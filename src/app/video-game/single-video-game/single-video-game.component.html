<div class="container-fluid bg-light navbar-bottom py-4" *ngIf="singleVideoGame">
  <h2 class="text-center mb-0">
    {{ singleVideoGame.name }}
  </h2>
  <h6 class="text-muted text-center">
    Date de sortie : <span class="font-weight-bold">{{ singleVideoGame.released | date:"dd/MM/yyyy" }}</span>
  </h6>
  <div class="dropdown text-center" *ngIf="isAuth">
    <button class="btn btn-danger dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Ajouter à la liste
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <a class="dropdown-item" style="cursor:pointer;" (click)="onSaveGameToDoList(singleVideoGame)">Jeux à faire</a>
      <a class="dropdown-item" style="cursor:pointer;" (click)="onSaveGameDoneList(singleVideoGame)">Jeux terminer</a>
    </div>
  </div>
</div>

<div class="container mb-5 mt-5" *ngIf="singleVideoGame">
  <div class="row">
    <div class="col-8 border-right">
      <img src="{{ singleVideoGame.background_image }}" alt="" class="img-fluid">

      <div class="mt-2">
          <span class="badge badge-danger mr-2" *ngFor="let genre of singleVideoGame.genres">
            {{ genre.name }}
          </span>
      </div>

      <p class="mt-3">{{ singleVideoGame.description_raw }}</p>
    </div>
    <div class="col-4">
      <div class="card py-3 mb-3">
        <h3 class="text-center mb-0">
          Metacritic :
          <span class="badge badge-dark">
          {{ singleVideoGame.metacritic }}
        </span>
        </h3>
      </div>

      <div class="card text-center">
        <div class="card-header">
          <h5 class="mb-0" *ngIf="singleVideoGame.platforms?.length > 1">
            Plateformes
          </h5>
          <h5 class="mb-0" *ngIf="singleVideoGame.platforms?.length === 1">
            Plateforme
          </h5>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item" *ngFor="let platform of singleVideoGame.platforms">
            {{ platform.platform.name }}
          </li>
        </ul>
      </div>

      <div class="card text-center mt-3">
        <div class="card-header">
          <h5 class="mb-0" *ngIf="singleVideoGame.developers?.length > 1">
            Développeurs
          </h5>
          <h5 class="mb-0" *ngIf="singleVideoGame.developers?.length === 1">
            Développeur
          </h5>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item" *ngFor="let developers of singleVideoGame.developers">
            {{ developers.name }}
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

<app-loader *ngIf="!singleVideoGame"></app-loader>
